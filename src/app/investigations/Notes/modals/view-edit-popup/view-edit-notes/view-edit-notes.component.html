<div class="main-div">
  <div class="modal-header">
    <h2 *ngIf="!editModeOn" class="header-text padding-header">View Notes</h2>
    <h2 *ngIf="editModeOn" class="header-text padding-header">Edit Note</h2>
    <div mat-dialog-close class="close">&times;</div>
  </div>

  <!-- <mat-dialog-content class="dialog-content">
    <form class="addForm" [formGroup]="addInvForm" class="form-padding">
      <div class="row form-div">
        <div class="col-sm-10">
          <span class="span-div"></span>
        </div>
      </div>

      <mat-card class="card-content card-details">
        <div class="content-div row">
          <div class="row content-container" *ngIf="editModeOn">
            <div class="input-header">
              <mat-form-field class="main-padding no-textbox-title-color">
                <input #title maxlength="150" class="title-color" matInput value="title" formControlName="titleControl"
                  [ngClass]="{
                    'red-border':
                      addInvForm.get('titleControl').invalid && isSubmitClicked
                  }" [disabled]="!editModeOn" />

                <mat-hint class="title-hint" *ngIf="editModeOn">{{ title.value.length }} / 150</mat-hint>
                <mat-error *ngIf="title.value.length == 150">
                  Maximum Length reached</mat-error>
              </mat-form-field>
            </div>

            <div class="p-l">
              <textarea #description maxlength="1000" matInput value="description" class="description"
                cdkTextareaAutosize [ngClass]="{
                  'red-border':
                    addInvForm.get('descriptionControl').invalid &&
                    isSubmitClicked
                }" #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="1" formControlName="descriptionControl"
                cdkAutosizeMaxRows="15" [disabled]="!editModeOn"></textarea>
              <mat-hint class="desc-hint" *ngIf="editModeOn">{{ description.value.length }} / 1000</mat-hint>
              <mat-error *ngIf="description.value.length == 1000">
                Maximum Length reached</mat-error>
            </div>
          </div>
          <div class="row content-container" *ngIf="!editModeOn">
            <div class="input-header">
              <mat-form-field class="main-padding no-textbox-title-color">
                <input #title maxlength="150" class="no-textbox-title-color" matInput value="title"
                  formControlName="titleControl" [ngClass]="{
                    'red-border':
                      addInvForm.get('titleControl').invalid && isSubmitClicked
                  }" [disabled]="!editModeOn" />

                <mat-hint class="title-value-hint" *ngIf="editModeOn">{{ title.value.length }} / 150</mat-hint>
                <mat-error *ngIf="title.value.length == 150">
                  Maximum Length reached</mat-error>
              </mat-form-field>
            </div>

            <div class="p-l">
              <textarea #description maxlength="1000" matInput value="description" class="no-textbox-description"
                cdkTextareaAutosize [ngClass]="{
                  'red-border':
                    addInvForm.get('descriptionControl').invalid &&
                    isSubmitClicked
                }" #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="1" formControlName="descriptionControl"
                cdkAutosizeMaxRows="15" [disabled]="!editModeOn"></textarea>
              <mat-hint class="desc-hint" *ngIf="editModeOn">{{ description.value.length }} / 1000</mat-hint>
              <mat-error *ngIf="description.value.length == 1000">
                Maximum Length reached</mat-error>
            </div>
          </div>
        </div>
        <div *ngIf="editModeOn" class="row button-row-editmode">
          <fa-icon [icon]="faCheckCircle" matTooltip="Update Notes" class="update-button" (click)="onSubmit()">
          </fa-icon>
          <fa-icon [icon]="faBan" matTooltip="cancel" class="cancel-button" (click)="cancel()" *ngIf="editModeOn">
          </fa-icon>
        </div>
        <div *ngIf="!editModeOn" class="row button-row">
          <fa-icon [icon]="faEdit" matTooltip="Edit Notes" (click)="editNotes()" *ngIf="!editModeOn && this.detailsSharing.permissionsCheck?.isEditNotes"
            class="edit-button"></fa-icon>
          <fa-icon [icon]="faTrash" matTooltip="Delete Notes" (click)="onDeleteNotes()" *ngIf="!editModeOn && this.detailsSharing.permissionsCheck?.isDeleteNotes"
            class="delete-button"></fa-icon>
        </div>
      </mat-card>

      <div class="row created-by-text created-by-main-div">
        <div class="name-div created-by-child-div" fxFlex fxLayout fxLayoutAlign="start" style="
            padding-left: 2.5% !important;
            text-align: left;
            letter-spacing: 0px;
            color: #147afc !important;
            opacity: 1;
          ">
          <span>Created By:
            <span *ngIf="updatedByUser.length > 0">
              <b>{{ createdByUser }}</b></span>
            <span *ngIf="updatedByUser.length <= 0">
              <b>{{ createdByUser }}</b>
            </span>
          </span>
          &nbsp;
          <span class="padding-property" *ngIf="updatedByUser.length > 0">|</span>
          &nbsp;
          <span *ngIf="updatedByUser.length > 0">Last Updated By:
            <span>
              <b>{{ updatedByUser }}</b>
            </span>
          </span>
        </div>
        <div class="time-div" fxFlex fxLayout fxLayoutAlign="end" class="time-div-child">
          <span class="date" *ngIf="updatedByUser.length <= 0">{{
            createdDate | date: "MM/dd/yyyy"
          }}</span>
          <span class="date" *ngIf="updatedByUser.length > 0">{{
            updatedDate | date: "MM/dd/yyyy"
          }}</span>
          &nbsp;
          <span class="padding-property">|</span>
          &nbsp;
          <span *ngIf="updatedByUser.length <= 0">{{
            createdDate | date: "h:mm aa"
          }}</span>
          <span *ngIf="updatedByUser.length > 0">{{
            updatedDate | date: "h:mm aa"
          }}</span>
          &nbsp;
        </div>
      </div>
    </form>
  </mat-dialog-content> -->
  <mat-dialog-content class="dialog-content">
    <div class="addForm" >
      <mat-card class="card-content card-details">
        <div class="content-div row">
          <div class="row content-container">
            <div class="input-header">
              <mat-form-field class="main-padding">
                <input #title maxlength="150" [ngClass]="
                    !editModeOn ? 'no-textbox-title-color' : 'title-color'
                  " matInput value="title" [(ngModel)]="notesDetail.title" [disabled]="!this.editModeOn" />
                <mat-hint class="title-hint" *ngIf="editModeOn">{{ title.value.length }} / 150</mat-hint>
              
              </mat-form-field>
            </div>

            <div class="p-l">
              <textarea #description maxlength="1000" matInput value="description" [ngClass]="
                  !editModeOn ? 'no-textbox-description' : 'description'
                " class="description" [(ngModel)]="notesDetail.description"
                [disabled]="!this.editModeOn"></textarea>
              <mat-hint class="desc-hint" *ngIf="editModeOn">{{ description.value.length }} / 1000</mat-hint>
          
            </div>
          </div>
        </div>
        <div *ngIf="this.editModeOn" class="row button-row">
          <fa-icon [icon]="faCheckCircle" matTooltip="Update Notes" class="update-button"
            (click)="onSubmit(notesDetail)"></fa-icon>
          <fa-icon [icon]="faBan" matTooltip="Cancel" class="cancel-button"
            (click)="cancel()"></fa-icon>
        </div>
        <div *ngIf="!editModeOn" class="row button-row">
          <fa-icon [icon]="faEdit" matTooltip="Edit Notes" (click)="this.editModeOn = !this.editModeOn"
            class="edit-button" *ngIf="this.detailsSharing.permissionsCheck?.isEditNotes"></fa-icon>
          <fa-icon [icon]="faTrash" matTooltip="Delete Notes" (click)="onDeleteNotes()"
            class="delete-button" *ngIf="this.detailsSharing.permissionsCheck?.isDeleteNotes"></fa-icon>
        </div>
      </mat-card>
      <div class="row created-by-text">
        <div class="name-div" fxFlex fxLayout fxLayoutAlign="start" class="created-by-div">
          <span>Created By:
            <span *ngIf="
                notesDetail.updatedByUser != undefined &&
                notesDetail.updatedByUser != null
              ">
              <b>{{ notesDetail.createdByUser }}</b></span>
            <span *ngIf="
                notesDetail.updatedByUser == undefined &&
                notesDetail.updatedByUser == null
              ">
              <b>{{ notesDetail.createdByUser }}</b>
            </span>
          </span>
          &nbsp;
          <span class="padding-property" *ngIf="notesDetail.updatedByUser.length > 0">|</span>
          &nbsp;
          <span *ngIf="notesDetail.updatedByUser.length > 0">Last Updated By:
            <span>
              <b>{{ notesDetail.updatedByUser }}</b>
            </span>
          </span>
        </div>
        <div class="time-div created-date-div" fxFlex fxLayout fxLayoutAlign="end">
          <span class="date" *ngIf="notesDetail.updatedByUser.length <= 0">{{
            notesDetail.createdDate | date: "MM/dd/yyyy"
          }}</span>
          <span class="date" *ngIf="notesDetail.updatedByUser.length > 0">{{
            notesDetail.updatedDate | date: "MM/dd/yyyy"
          }}</span>
          &nbsp;
          <span class="padding-property">|</span>
          &nbsp;
          <span *ngIf="notesDetail.updatedByUser.length <= 0">{{
            notesDetail.createdDate | date: "h:mm aa"
          }}</span>
          <span *ngIf="notesDetail.updatedByUser.length > 0">{{
            notesDetail.updatedDate | date: "h:mm aa"
          }}</span>
          &nbsp;
        </div>
      </div>
    </div>
  </mat-dialog-content>
</div>